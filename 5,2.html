<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>P√°gina Personal de Jimmy</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #333;
      overflow: hidden;
      position: relative;
      background: #FDEEF4 url('hello_kitty_background.jpg') center no-repeat;
      background-size: contain;
      opacity: 0.8;
    }

    #inicio-container {
      text-align: center;
      margin-top: 3rem;
    }

    #boton-inicio, .opcion-btn, .continuar-btn {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #f48fb1;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 10px;
    }

    #saludo, #mensaje-emocion, #continuar {
      text-align: center;
      margin-top: 2rem;
      font-size: 20px;
      font-weight: bold;
    }

    header {
      background-color: rgba(248, 187, 208, 0.8);
      color: white;
      text-align: center;
      padding: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    header img {
      max-width: 50px;
      height: auto;
    }

    section {
      padding: 2rem;
      text-align: center;
      position: relative;
      height: 80vh;
    }

    #caja {
      width: 200px;
      height: 200px;
      background-color: #4CAF50;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 20px;
      font-weight: bold;
      border: 3px solid #388E3C;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s ease-in-out;
    }

    #puzzle-container {
      display: none;
      margin: 2rem auto;
      width: 300px;
      height: 300px;
      position: relative;
    }

    .tile {
      width: 100px;
      height: 100px;
      position: absolute;
      border: 1px solid #fff;
      box-sizing: border-box;
      background-size: 300px 300px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .empty {
      background: none;
      border: none;
      cursor: default;
    }

    #mensaje-rompecabezas {
      font-size: 18px;
      font-weight: bold;
      color: #D32F2F;
      margin-bottom: 1rem;
      display: none;
    }

    footer {
      background-color: rgba(248, 187, 208, 0.8);
      color: white;
      text-align: center;
      padding: 1rem;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id="inicio-container">
    <button id="boton-inicio">¬øEst√°s lista?</button>
  </div>

  <div id="saludo" style="display: none;">
    Hola Preyti, ¬øc√≥mo te sientes hoy?<br><br>
    <button class="opcion-btn" data-emocion="bien">Bien</button>
    <button class="opcion-btn" data-emocion="mal">Mal</button>
    <button class="opcion-btn" data-emocion="triste">Triste</button>
    <button class="opcion-btn" data-emocion="miedo">Siento miedo</button>
    <button class="opcion-btn" data-emocion="enoja">Enoja</button>
    <button class="opcion-btn" data-emocion="sorprendida">Sorprendida</button>
  </div>

  <div id="mensaje-emocion" style="display: none;"></div>
  <div id="continuar" style="display: none;">
    <button class="continuar-btn" id="continuar-btn">Continuar</button>
  </div>

  <div id="contenido" style="display:none; text-align: center;">
    <header>
      <h1>Hola, ¬øC√≥mo est√°s?</h1>
      <img src="hello_kitty.jpg" alt="Hello Kitty">
    </header>

    <section>
      <div id="caja">¬°T√≥came!</div>
      <div id="mensaje-rompecabezas">¬°Onoooo! Apretaste muy fuerte la caja y la imagen se volvi√≥ en un rompecabezas. √Årmalo para ver el contenido. ¬°Suerte!</div>
      <div id="puzzle-container"></div>
    </section>
  </div>

  <footer>
    <p>Creado con cari√±o por Jimmy</p>
  </footer>

  <audio id="musica" src="tu_musica.mp3.mp3"></audio>

  <script>
    const botonInicio = document.getElementById("boton-inicio");
    const musica = document.getElementById("musica");
    const saludo = document.getElementById("saludo");
    const mensaje = document.getElementById("mensaje-emocion");
    const continuar = document.getElementById("continuar");
    const contenido = document.getElementById("contenido");
    const caja = document.getElementById("caja");
    const mensajePuzzle = document.getElementById("mensaje-rompecabezas");
    const puzzleContainer = document.getElementById("puzzle-container");

    const mensajes = {
      bien: "Preyti, me alegra much√≠simo saber que est√°s bien. Que esa alegr√≠a ilumine tu d√≠a y contagie a todos los que te rodean. ¬°Sigue brillando como siempre! üåü",
      mal: "üåü Recuerda que incluso en los momentos m√°s oscuros, hay luz al final del camino. Eres fuerte y esto tambi√©n pasar√°. Aqu√≠ estoy si necesitas apoyo.",
      triste: "Preyti, s√© que hay momentos dif√≠ciles, pero quiero que sepas que no est√°s sola. T√≥mate tu tiempo, perm√≠tete sentir y recuerda que todo mejora con el tiempo. Estoy aqu√≠ para ti. ‚ù§Ô∏è Espero que esta p√°gina te ayude a subir tu estado de humor.",
      miedo: "Preyti, es normal sentir miedo, pero recuerda que eres fuerte y valiente. Da un paso a la vez, conf√≠a en ti misma, y todo saldr√° bien. Estoy contigo en esto. üí™",
      enoja: "Preyti, respira profundo y t√≥mate un momento para ti. A veces, el enojo es una se√±al de que algo no est√° bien, pero estoy seguro de que encontrar√°s la manera de enfrentarlo con sabidur√≠a. Estoy aqu√≠ si necesitas hablar. ‚ú®",
      sorprendida: "Preyti, a veces las sorpresas nos sacuden un poco, pero tambi√©n nos ense√±an a adaptarnos y crecer. Espero que sea una sorpresa que te deje una sonrisa en el rostro. üåà"
    };

    const botonesTexto = {
      bien: "Siguiente p√°gina",
      mal: "Ya estoy mejor üíõ",
      triste: "Espero esto mejore tu estado de √°nimo",
      miedo: "Supera ese miedo, eres fuerte",
      enoja: "Ya no est√©s enojada, mejor mira esto",
      sorprendida: "Espero que la raz√≥n de tu sorpresa sea esta p√°gina"
    };

    botonInicio.addEventListener("click", () => {
      musica.play();
      musica.volume = 0.5;
      document.getElementById("inicio-container").style.display = "none";
      saludo.style.display = "block";
    });

    document.querySelectorAll(".opcion-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const emocion = btn.getAttribute("data-emocion");
        saludo.style.display = "none";
        mensaje.innerHTML = mensajes[emocion];
        mensaje.style.display = "block";

        const continuarBtn = document.getElementById("continuar-btn");
        continuarBtn.textContent = botonesTexto[emocion];
        continuar.style.display = "block";
      });
    });

    document.getElementById("continuar-btn").addEventListener("click", () => {
      mensaje.style.display = "none";
      continuar.style.display = "none";
      contenido.style.display = "block";
    });

    caja.addEventListener("click", () => {
      caja.style.display = "none";
      mensajePuzzle.style.display = "block";
      puzzleContainer.style.display = "block";
      crearRompecabezas("imagen.jpg", 3);
    });

    function crearRompecabezas(src, size) {
      puzzleContainer.innerHTML = "";
      const posiciones = [];
      for (let i = 0; i < size * size; i++) posiciones.push(i);
      posiciones.sort(() => Math.random() - 0.5);

      const tiles = [];
      for (let i = 0; i < size * size; i++) {
        const tile = document.createElement("div");
        tile.className = "tile";
        if (i === size * size - 1) tile.classList.add("empty");
        const x = (posiciones[i] % size) * 100;
        const y = Math.floor(posiciones[i] / size) * 100;
        tile.style.left = `${(i % size) * 100}px`;
        tile.style.top = `${Math.floor(i / size) * 100}px`;
        tile.dataset.index = i;
        tile.dataset.original = posiciones[i];
        if (!tile.classList.contains("empty")) {
          tile.style.backgroundImage = `url('${src}')`;
          tile.style.backgroundPosition = `-${x}px -${y}px`;
        }
        tile.addEventListener("click", () => moverPieza(tile, size));
        puzzleContainer.appendChild(tile);
        tiles.push(tile);
      }
    }

    function moverPieza(tile, size) {
      if (tile.classList.contains("empty")) return;
      const tiles = [...document.querySelectorAll(".tile")];
      const empty = tiles.find(t => t.classList.contains("empty"));
      const from = parseInt(tile.dataset.index);
      const to = parseInt(empty.dataset.index);
      const dx = Math.abs((from % size) - (to % size));
      const dy = Math.abs(Math.floor(from / size) - Math.floor(to / size));
      if ((dx + dy) === 1) {
        const tempLeft = tile.style.left;
        const tempTop = tile.style.top;
        tile.style.left = empty.style.left;
        tile.style.top = empty.style.top;
        empty.style.left = tempLeft;
        empty.style.top = tempTop;
        [tile.dataset.index, empty.dataset.index] = [empty.dataset.index, tile.dataset.index];
      }
    }
  </script>
</body>
</html>
